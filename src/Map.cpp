#include "../include/Map.h"


Map::Map(int id_map)
{
    GRRLIB_texImg* m_tuiles_carte = GRRLIB_LoadTextureFromFile("sd:/Tutos/tile2.png");
    GRRLIB_InitTileSet(m_tuiles_carte, 16,16, 0);
    m_x_map = -30;
    m_y_map = -30;

    if (id_map == 1){

        int tab_map [36][36]= {
            {14,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,13},
            {10,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,11},
            {10,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,11},
            {10,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,0,11},
            {10,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,11},
            {10,0,4,0,2,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,11},
            {10,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,2,0,0,0,0,0,0,19,22,22,22,22,22,22,22,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,4,0,0,11,17,17,17,17,17,17,17,10,0,0,1,0,0,0,0,0,0,2,0,0,0,0,1,0,0,11},
            {10,0,0,1,0,0,0,0,0,11,17,17,17,17,17,17,17,10,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,0,0,0,11,17,17,17,17,17,17,17,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,4,0,0,11,17,17,17,17,17,17,17,10,0,0,0,0,0,0,0,0,0,2,0,0,0,0,1,0,0,11},
            {10,0,0,1,0,0,4,0,0,11,17,17,17,17,17,17,17,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,0,0,0,21,9,9,9,9,9,9,9,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,4,0,4,0,0,6,7,7,7,7,7,7,7,8,0,0,0,0,0,0,0,0,0,0,5,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,3,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,4,0,0,11},
            {10,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,11},
            {10,0,4,0,2,0,3,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,11},
            {10,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,4,0,0,11},
            {10,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,11},
            {10,0,4,0,2,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,11},
            {10,0,1,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,11},
            {16,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,15}};

        for (int i =0; i < 36; i++)
            for (int j = 0; j < 36; j++)
                m_tab_map[i][j] = tab_map[i][j];
    }
}
void Map::afficher_map(expansion_t exp){
    int zoom = 2;
    GRRLIB_FillScreen(0x211b27FF);
    for (int i=0; i<36; i++){
        for (int j=0; j<36; j++){
            GRRLIB_DrawTile(m_x_map+16*zoom*j, m_y_map+16*zoom*i, m_tuiles_carte, 0,2,2, 0xFFFFFFFF, m_tab_map[i][j]);
        }
    }
    m_x_map -= (exp.nunchuk.js.pos.x - 127)/20;
    m_y_map += (exp.nunchuk.js.pos.y - 125)/20;

}
Map::~Map()
{
    //dtor
}
