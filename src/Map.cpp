#include <grrlib.h>
#include <wiiuse/wiiuse.h>
void afficher_map(expansion_t exp,GRRLIB_texImg* tuiles_carte,int x_map,int y_map) {
    int zoom = 2; // Facteur de zoom
    int tab_map [36][36]= {
            {14,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,13},
            {10,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,11},
            {10,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,11},
            {10,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,0,11},
            {10,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,11},
            {10,0,4,0,2,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,11},
            {10,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,2,0,0,0,0,0,0,19,22,22,22,22,22,22,22,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,4,0,0,11,17,17,17,17,17,17,17,10,0,0,1,0,0,0,0,0,0,2,0,0,0,0,1,0,0,11},
            {10,0,0,1,0,0,0,0,0,11,17,17,17,17,17,17,17,10,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,0,0,0,11,17,17,17,17,17,17,17,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,4,0,0,11,17,17,17,17,17,17,17,10,0,0,0,0,0,0,0,0,0,2,0,0,0,0,1,0,0,11},
            {10,0,0,1,0,0,4,0,0,11,17,17,17,17,17,17,17,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,0,0,0,21,9,9,9,9,9,9,9,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,4,0,4,0,0,6,7,7,7,7,7,7,7,8,0,0,0,0,0,0,0,0,0,0,5,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,3,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,1,0,0,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,4,0,0,11},
            {10,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,11},
            {10,0,4,0,2,0,3,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,11},
            {10,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11},
            {10,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,4,0,0,11},
            {10,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,11},
            {10,0,4,0,2,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,11},
            {10,0,1,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,11},
            {16,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,15}};
    x_map -= (exp.nunchuk.js.pos.x - 127) / 20;
    y_map += (exp.nunchuk.js.pos.y - 125) / 20;
    for (int i = 0; i < 36; i++) {
        for (int j = 0; j < 36; j++) {
            // Calcul des positions des tuiles en fonction du zoom et des coordonnées de la carte
            int x_position =100+x_map + 16 * zoom * j;
            int y_position = -100+y_map + 16 * zoom * i;

            // Dessiner la tuile

            GRRLIB_DrawTile(x_position,y_position, tuiles_carte, 0, zoom, zoom, 0xFFFFFFFF,tab_map[i][j]);

            //GRRLIB_DrawTile(x_position, y_position, m_tuiles_carte, 0, zoom, zoom, 0xFFFFFFFF, m_tab_map[i][j]);

        }
    }

    // Mise à jour des coordonnées de la carte en fonction des positions du joystick

}
